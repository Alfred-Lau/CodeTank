{"version":3,"sources":["chart-index.js"],"names":[],"mappings":";;AAAA,EAAE,YAAM;;AAEJ;AACA,QAAI,aAAa,QAAQ,IAAR,CAAa,SAAS,cAAT,CAAwB,KAAxB,CAAb,CAAjB;AACA,QAAI,cAAc,QAAQ,IAAR,CAAa,SAAS,cAAT,CAAwB,MAAxB,CAAb,CAAlB;AACA,QAAI,aAAa,QAAQ,IAAR,CAAa,SAAS,cAAT,CAAwB,KAAxB,CAAb,CAAjB;AACA,QAAI,QAAQ,EAAZ;AACA,QAAI,OAAO,EAAX;AACA,QAAI,QAAQ,EAAZ;AACA,QAAI,SAAS,EAAb;;AAEA,MAAE,IAAF,CAAO;AACH,cAAM,MADH;AAEH,aAAK,4BAFF;AAGH,cAAM,KAHH;AAIH,kBAAU,MAJP;AAKH,eAAO,KALJ;AAMH,iBAAS,IANN;AAOH,iBAAS,iBAAS,IAAT,EAAe;AACpB,gBAAI,OAAO,EAAE,SAAF,CAAY,IAAZ,CAAX;;AADoB;AAAA;AAAA;;AAAA;AAGpB,qCAAgB,IAAhB,8HAAsB;AAAA,wBAAb,GAAa;;AAClB,0BAAM,IAAN,CAAW,IAAI,MAAf;AACA,0BAAM,IAAN,CAAW,IAAI,IAAf;AACA,yBAAK,IAAL,CAAU,IAAI,IAAd;AACH;AACD;AACA;AAToB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWpB,gBAAI,gBAAgB,IAAI,KAAJ,EAApB;AACA,0BAAc,GAAd,GAAoB,iBAApB;AACA,gBAAI,eAAe,IAAI,KAAJ,EAAnB;AACA,yBAAa,GAAb,GAAmB,kBAAnB;;AAEA,gBAAI,YAAY;AACZ,wBAAQ;AACJ,6BAAS,GADL;AAEJ,2BAAO;AACH,+BAAO,aADJ;AAEH,gCAAQ;AAFL,qBAFH;AAMJ,iCAAa,CANT;AAOJ,iCAAa;AAPT;AADI,aAAhB;AAWA,gBAAI,YAAY;AACZ,iCAAiB;AACb,2BAAO,YADM;AAEb,4BAAQ;AAFK,iBADL;AAKZ,uBAAO;AACH,0BAAM,EADH;AAEH,+BAAW;AACP,+BAAO;AADA;AAFR,iBALK;AAWZ,yBAAS,EAXG;AAYZ,wBAAQ,CAAC;AACL,0BAAM,KADD;AAEL,0BAAM,KAFD;AAGL,kCAAc,QAHT;AAIL,oCAAgB,EAJX;AAKL,+BAAW,IALN;AAML,2BAAO;AACH,gCAAQ;AACJ,uCAAW;AACP,0CAAU,EADH;AAEP,uCAAO;AAFA;AADP;AADL,qBANF;AAcL,+BAAW;AACP,gCAAQ;AACJ,uCAAW;AACP,uCAAO;AADA;AADP;AADD,qBAdN;AAqBL,0BAAM,CACF,EAAE,OAAO,GAAT,EAAc,MAAM,UAApB,EADE,EAEF,EAAE,OAAO,GAAT,EAAc,MAAM,UAApB,EAFE,EAGF,EAAE,OAAO,GAAT,EAAc,MAAM,SAApB,EAHE,EAIF,EAAE,OAAO,GAAT,EAAc,MAAM,SAApB,EAJE,CArBD;AA2BL,+BAAW;AA3BN,iBAAD;AAZI,aAAhB;AA0CA,gBAAI,aAAa;AACb,uBAAO;AACH,0BAAM,SADH;AAEH,6BAAS,SAFN;AAGH,uBAAG,QAHA;AAIH,2BAAO;AAJJ,iBADM;AAOb,sBAAM;AACF,4BAAQ;AADN,iBAPO;AAUb,yBAAS;AACL,6BAAS;AACL,kCAAU;AACN,wCAAY;AADN,yBADL;AAIL,iCAAS,EAJJ;AAKL,qCAAa;AALR;AADJ,iBAVI;AAmBb,yBAAS;AACL,6BAAS,MADJ;AAEL,iCAAa;AACT,mCAAW;AADF;AAFR,iBAnBI;AAyBb,wBAAQ;AACJ,0BAAM,CAAC,IAAD,EAAO,IAAP,CADF;AAEJ,uBAAG;AAFC,iBAzBK;AA6Bb,0BAAU,CAAC;AACP,0BAAM,IADC;AAEP,8BAAU,IAFH;AAGP,2BAAO,CAHA;AAIP,yBAAK;AAJE,iBAAD,EAKP;AACC,0BAAM,QADP;AAEC,8BAAU,IAFX;AAGC,2BAAO,CAHR;AAIC,yBAAK;AAJN,iBALO,CA7BG;AAwCb,uBAAO,CAAC;AACJ,0BAAM,UADF;AAEJ,iCAAa,KAFT;AAGJ,8BAAU,EAAE,QAAQ,KAAV,EAHN;AAIJ,0BAAM;AAJF,iBAAD,CAxCM;AA8Cb,uBAAO,CAAC;AACJ,0BAAM,SADF;AAEJ,0BAAM,OAFF;AAGJ,yBAAK;AAHD,iBAAD,EAIJ;AACC,0BAAM,QADP;AAEC,kCAAc,OAFf;AAGC,yBAAK,GAHN;AAIC,0BAAM,OAJP;AAKC,6BAAS;AALV,iBAJI,CA9CM;AAyDb,wBAAQ,CAAC;AACL,0BAAM,IADD;AAEL,0BAAM,MAFD;AAGL,+BAAW,KAHN;AAIL,+BAAW;AACP,gCAAQ;AADD,qBAJN;AAOL,+BAAW;AACP,gCAAQ;AACJ,mCAAO;AADH;AADD,qBAPN;AAYL,8BAAU;AACN,gCAAQ,IADF;AAEN,8BAAM,CACF,CAAC;AACG,mCAAO;AADV,yBAAD,EAEG;AACC,mCAAO;AADR,yBAFH,CADE;AAFA,qBAZL;AAsBL,0BAAM;AAtBD,iBAAD,EAuBL;AACC,0BAAM,IADP;AAEC,0BAAM,MAFP;AAGC,gCAAY,CAHb;AAIC,+BAAW,KAJZ;AAKC,+BAAW;AACP,gCAAQ;AADD,qBALZ;AAQC,+BAAW;AACP,gCAAQ;AACJ,mCAAO;AADH;AADD,qBARZ;AAaC,8BAAU;AACN,gCAAQ,IADF;AAEN,8BAAM,CACF,CAAC;AACG,mCAAO;AADV,yBAAD,EAEG;AACC,mCAAO;AADR,yBAFH,CADE;AAFA,qBAbX;AAuBC,0BAAM;AAvBP,iBAvBK;AAzDK,aAAjB;;AA2GA,gBAAI,YAAY;AACZ,yBAAS,EADG;AAEZ,wBAAQ;AACJ,0BAAM,CAAC,IAAD;AADF,iBAFI;AAKZ,uBAAO;AACH,0BAAM,KADH;AAEH,+BAAW;AACP,8BAAM,IADC;AAEP;AACA,kCAAU;AAHH;AAFR,iBALK;AAiBZ,uBAAO,EAjBK;AAkBZ,wBAAQ,CAAC;AACL,0BAAM,IADD;AAEL,0BAAM,KAFD;AAGL,0BAAM;AAHD,iBAAD;AAlBI,aAAhB;;AAyBA;AACA,uBAAW,SAAX,CAAqB,SAArB;AACA,wBAAY,SAAZ,CAAsB,UAAtB;AACA,uBAAW,SAAX,CAAqB,SAArB;AACH,SApNE;AAqNH,eAAO,eAAS,KAAT,EAAgB,UAAhB,EAA4B,WAA5B,EAAyC;AAC5C,kBAAM,WAAW,UAAX,GAAwB,GAAxB,GAA8B,WAApC;AACH;AAvNE,KAAP;AA0NH,CArOD","file":"chart-index-compiled.js","sourcesContent":["$(() => {\n\n    // 基于准备好的dom，初始化echarts实例\n    let myBarChart = echarts.init(document.getElementById('bar'));\n    let myLineChart = echarts.init(document.getElementById('line'));\n    let myPieChart = echarts.init(document.getElementById('pie'));\n    let xdata = [];\n    let area = [];\n    let value = [];\n    let params = {};\n\n    $.ajax({\n        data: params,\n        url: 'http://localhost:3000/data',\n        type: 'get',\n        dataType: 'json',\n        cache: false,\n        timeout: 5000,\n        success: function(data) {\n            var data = $.parseJSON(data);\n\n            for (let tmp of data) {\n                xdata.push(tmp.region);\n                value.push(tmp.rent);\n                area.push(tmp.area);\n            }\n            //Ajax获取数据，填充至options\n            // 指定图表的配置项和数据\n\n            var piePatternImg = new Image();\n            piePatternImg.src = '/images/bg.jpeg';\n            var bgPatternImg = new Image();\n            bgPatternImg.src = '/images/bg2.jpeg';\n\n            var itemStyle = {\n                normal: {\n                    opacity: 0.7,\n                    color: {\n                        image: piePatternImg,\n                        repeat: 'repeat'\n                    },\n                    borderWidth: 3,\n                    borderColor: '#235894'\n                }\n            };\n            let pieOption = {\n                backgroundColor: {\n                    image: bgPatternImg,\n                    repeat: 'repeat'\n                },\n                title: {\n                    text: '',\n                    textStyle: {\n                        color: '#235894'\n                    }\n                },\n                tooltip: {},\n                series: [{\n                    name: 'pie',\n                    type: 'pie',\n                    selectedMode: 'single',\n                    selectedOffset: 30,\n                    clockwise: true,\n                    label: {\n                        normal: {\n                            textStyle: {\n                                fontSize: 18,\n                                color: '#235894'\n                            }\n                        }\n                    },\n                    labelLine: {\n                        normal: {\n                            lineStyle: {\n                                color: '#235894'\n                            }\n                        }\n                    },\n                    data: [\n                        { value: 335, name: '房租>15000' },\n                        { value: 310, name: '房租>10000' },\n                        { value: 234, name: '房租>5000' },\n                        { value: 135, name: '房租>2000' },\n                    ],\n                    itemStyle: itemStyle\n                }]\n            };\n            let lineOption = {\n                title: {\n                    text: '房租面积分布图',\n                    subtext: '数据来自链家网',\n                    x: 'center',\n                    align: 'right'\n                },\n                grid: {\n                    bottom: 80\n                },\n                toolbox: {\n                    feature: {\n                        dataZoom: {\n                            yAxisIndex: 'none'\n                        },\n                        restore: {},\n                        saveAsImage: {}\n                    }\n                },\n                tooltip: {\n                    trigger: 'axis',\n                    axisPointer: {\n                        animation: false\n                    }\n                },\n                legend: {\n                    data: ['房租', '面积'],\n                    x: 'left'\n                },\n                dataZoom: [{\n                    show: true,\n                    realtime: true,\n                    start: 0,\n                    end: 20\n                }, {\n                    type: 'inside',\n                    realtime: true,\n                    start: 0,\n                    end: 20\n                }],\n                xAxis: [{\n                    type: 'category',\n                    boundaryGap: false,\n                    axisLine: { onZero: false },\n                    data: xdata,\n                }],\n                yAxis: [{\n                    name: '房租(￥/月)',\n                    type: 'value',\n                    max: 20000\n                }, {\n                    name: '面积(m2)',\n                    nameLocation: 'start',\n                    max: 200,\n                    type: 'value',\n                    inverse: true\n                }],\n                series: [{\n                    name: '房租',\n                    type: 'line',\n                    animation: false,\n                    areaStyle: {\n                        normal: {}\n                    },\n                    lineStyle: {\n                        normal: {\n                            width: 1\n                        }\n                    },\n                    markArea: {\n                        silent: true,\n                        data: [\n                            [{\n                                xAxis: '2009/9/12\\n7:00'\n                            }, {\n                                xAxis: '2009/9/22\\n7:00'\n                            }]\n                        ]\n                    },\n                    data: value\n                }, {\n                    name: '面积',\n                    type: 'line',\n                    yAxisIndex: 1,\n                    animation: false,\n                    areaStyle: {\n                        normal: {}\n                    },\n                    lineStyle: {\n                        normal: {\n                            width: 1\n                        }\n                    },\n                    markArea: {\n                        silent: true,\n                        data: [\n                            [{\n                                xAxis: '2009/9/10\\n7:00'\n                            }, {\n                                xAxis: '2009/9/20\\n7:00'\n                            }]\n                        ]\n                    },\n                    data: area\n                }]\n            };\n\n            let barOption = {\n                tooltip: {},\n                legend: {\n                    data: ['房租']\n                },\n                xAxis: {\n                    data: xdata,\n                    axisLabel: {\n                        show: true,\n                        // 强制显示所有标签\n                        interval: 5,\n                        // {number}  \n                        // rotate: 45,\n                        // margin: 8  \n\n                    }\n                },\n                yAxis: {},\n                series: [{\n                    name: '房租',\n                    type: 'bar',\n                    data: value,\n                }]\n            };\n\n            // 使用刚指定的配置项和数据显示图表。\n            myBarChart.setOption(barOption);\n            myLineChart.setOption(lineOption);\n            myPieChart.setOption(pieOption);\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            alert('error ' + textStatus + \" \" + errorThrown);\n        },\n    })\n\n})\n"]}